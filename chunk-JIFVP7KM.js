import{Q as I,h}from"./chunk-DRPY6DKD.js";var w=class p{chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+-=[]{}|;:,.<>?";scrambleText(r,t=30,i=1e3){let e=new h,n=r.split(/(\s+|[^\s]+)/),u=n.filter(m=>m.trim()!=="").length,c=i/u,s=new Set,g=0,v=Date.now(),a=setInterval(()=>{let m=n.map((l,f)=>s.has(f)||l.trim()===""?l:this.scrambleWord(l)).join("");e.next(m)},t),d=()=>{let m=Date.now()-v,l=Math.floor(m/c),f=0;for(let o=0;o<n.length;o++)n[o].trim()!==""&&!s.has(o)?f<l&&(s.add(o),f++):n[o].trim()===""&&s.add(o);l>=u?(clearInterval(a),e.next(r),e.complete()):setTimeout(()=>{d()},c/2)};return setTimeout(()=>{d()},c),e.asObservable()}scrambleAllAtOnce(r,t=20,i=800){let e=new h,n=Date.now(),b=r.length,u=setInterval(()=>{let c=Date.now()-n,s=Math.min(c/i,1),g=Math.floor(s*b),v=r.split("").map((a,d)=>d<g||a===" "||a===`
`||a==="	"?a:this.chars[Math.floor(Math.random()*this.chars.length)]).join("");e.next(v),s>=1&&(clearInterval(u),e.next(r),e.complete())},t);return e.asObservable()}scrambleLines(r,t=20,i=800){let e=new h,n=r.join(`
`);return this.scrambleAllAtOnce(n,t,i).subscribe({next:b=>{e.next(b)},complete:()=>{e.complete()}}),e.asObservable()}scrambleWord(r){return r.split("").map(t=>t===" "||t===`
`||t==="	"?t:this.chars[Math.floor(Math.random()*this.chars.length)]).join("")}static \u0275fac=function(t){return new(t||p)};static \u0275prov=I({token:p,factory:p.\u0275fac,providedIn:"root"})};export{w as a};
