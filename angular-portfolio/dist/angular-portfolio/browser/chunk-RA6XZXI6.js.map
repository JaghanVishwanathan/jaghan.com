{
  "version": 3,
  "sources": ["src/app/services/scramble.service.ts", "src/app/components/about/about.component.ts", "src/app/components/about/about.component.html"],
  "sourcesContent": ["import { Injectable } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ScrambleService {\r\n  private readonly chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+-=[]{}|;:,.<>?';\r\n\r\n  /**\r\n   * Scrambles text by revealing words quickly\r\n   * All letters in unrevealed words scramble continuously until words are revealed\r\n   * @param targetText The final text to reveal\r\n   * @param scrambleSpeed Speed of scrambling animation (milliseconds between updates)\r\n   * @param totalDuration Total time to reveal all text (milliseconds)\r\n   */\r\n  scrambleText(targetText: string, scrambleSpeed: number = 30, totalDuration: number = 1000): Observable<string> {\r\n    const subject = new Subject<string>();\r\n    const words = targetText.split(/(\\s+|[^\\s]+)/); // Split preserving spaces\r\n    const nonWhitespaceWords = words.filter(w => w.trim() !== '');\r\n    const totalWords = nonWhitespaceWords.length;\r\n    const wordRevealInterval = totalDuration / totalWords; // Time per word\r\n    const revealedIndices = new Set<number>();\r\n    let currentWordIndex = 0;\r\n    let startTime = Date.now();\r\n\r\n    // Start continuous scrambling animation\r\n    const scrambleInterval = setInterval(() => {\r\n      // Build result: revealed words as-is, unrevealed words scrambled\r\n      const result = words.map((word, index) => {\r\n        if (revealedIndices.has(index) || word.trim() === '') {\r\n          return word; // Already revealed or whitespace\r\n        }\r\n        // Scramble unrevealed words\r\n        return this.scrambleWord(word);\r\n      }).join('');\r\n\r\n      subject.next(result);\r\n    }, scrambleSpeed);\r\n\r\n    // Reveal words quickly based on elapsed time\r\n    const revealWords = () => {\r\n      const elapsed = Date.now() - startTime;\r\n      const wordsToReveal = Math.floor(elapsed / wordRevealInterval);\r\n\r\n      // Reveal words up to current count\r\n      let wordCount = 0;\r\n      for (let i = 0; i < words.length; i++) {\r\n        if (words[i].trim() !== '' && !revealedIndices.has(i)) {\r\n          if (wordCount < wordsToReveal) {\r\n            revealedIndices.add(i);\r\n            wordCount++;\r\n          }\r\n        } else if (words[i].trim() === '') {\r\n          revealedIndices.add(i); // Always show whitespace\r\n        }\r\n      }\r\n\r\n      if (wordsToReveal >= totalWords) {\r\n        // All words revealed\r\n        clearInterval(scrambleInterval);\r\n        subject.next(targetText);\r\n        subject.complete();\r\n      } else {\r\n        // Continue revealing\r\n        setTimeout(() => {\r\n          revealWords();\r\n        }, wordRevealInterval / 2); // Check twice per word interval for smoother reveal\r\n      }\r\n    };\r\n\r\n    // Start revealing words immediately\r\n    setTimeout(() => {\r\n      revealWords();\r\n    }, wordRevealInterval);\r\n\r\n    return subject.asObservable();\r\n  }\r\n\r\n  /**\r\n   * Scrambles all text at once and reveals quickly (for about section)\r\n   * @param targetText The final text to reveal\r\n   * @param scrambleSpeed Speed of scrambling animation\r\n   * @param revealDuration Total time to reveal all text\r\n   */\r\n  scrambleAllAtOnce(targetText: string, scrambleSpeed: number = 20, revealDuration: number = 800): Observable<string> {\r\n    const subject = new Subject<string>();\r\n    let startTime = Date.now();\r\n    const totalChars = targetText.length;\r\n\r\n    // Start continuous scrambling\r\n    const scrambleInterval = setInterval(() => {\r\n      const elapsed = Date.now() - startTime;\r\n      const progress = Math.min(elapsed / revealDuration, 1);\r\n      const charsToReveal = Math.floor(progress * totalChars);\r\n\r\n      // Build result: revealed chars as-is, unrevealed chars scrambled\r\n      const result = targetText.split('').map((char, index) => {\r\n        if (index < charsToReveal || char === ' ' || char === '\\n' || char === '\\t') {\r\n          return char; // Already revealed or whitespace\r\n        }\r\n        // Scramble unrevealed chars\r\n        return this.chars[Math.floor(Math.random() * this.chars.length)];\r\n      }).join('');\r\n\r\n      subject.next(result);\r\n\r\n      if (progress >= 1) {\r\n        clearInterval(scrambleInterval);\r\n        subject.next(targetText);\r\n        subject.complete();\r\n      }\r\n    }, scrambleSpeed);\r\n\r\n    return subject.asObservable();\r\n  }\r\n\r\n  /**\r\n   * Scrambles multiple lines, revealing all quickly\r\n   * @param lines Array of text lines to scramble\r\n   * @param scrambleSpeed Speed of scrambling animation\r\n   * @param revealDuration Total time to reveal all text\r\n   */\r\n  scrambleLines(\r\n    lines: string[],\r\n    scrambleSpeed: number = 20,\r\n    revealDuration: number = 800\r\n  ): Observable<string> {\r\n    const subject = new Subject<string>();\r\n    const fullText = lines.join('\\n');\r\n    \r\n    this.scrambleAllAtOnce(fullText, scrambleSpeed, revealDuration).subscribe({\r\n      next: (scrambled) => {\r\n        subject.next(scrambled);\r\n      },\r\n      complete: () => {\r\n        subject.complete();\r\n      }\r\n    });\r\n\r\n    return subject.asObservable();\r\n  }\r\n\r\n  /**\r\n   * Scrambles a single word by replacing letters with random characters\r\n   * Preserves length and whitespace\r\n   */\r\n  private scrambleWord(word: string): string {\r\n    return word.split('').map(char => {\r\n      if (char === ' ' || char === '\\n' || char === '\\t') {\r\n        return char; // Keep whitespace\r\n      }\r\n      // Return random character\r\n      return this.chars[Math.floor(Math.random() * this.chars.length)];\r\n    }).join('');\r\n  }\r\n}\r\n", "import { Component, OnInit, OnDestroy, ElementRef, ViewChild, AfterViewInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ScrambleService } from '../../services/scramble.service';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-about',\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  templateUrl: './about.component.html',\r\n  styleUrl: './about.component.css'\r\n})\r\nexport class AboutComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  @ViewChild('aboutSection', { static: false }) aboutSection?: ElementRef;\r\n  scrambledContent = '';\r\n  hasStartedScrambling = false;\r\n  private subscription?: Subscription;\r\n  private observer?: IntersectionObserver;\r\n  private lines = [\r\n    \"Hi, I'm Jaghan.\",\r\n    \"\",\r\n    \"I'm a full-stack engineer who enjoys turning complex ideas into clean, usable digital products.\",\r\n    \"By day, I work with code, systems, and interfaces.\",\r\n    \"By instinct, I think in experiences, visuals, and stories.\",\r\n    \"\",\r\n    \"I don't stop at development,\",\r\n    \"I design user journeys, shape digital identities, manage content, and communicate ideas that need clarity.\",\r\n    \"\",\r\n    \"When I'm not in front of a screen,\",\r\n    \"you'll probably find me somewhere near an airport fence,\",\r\n    \"on a mountain trail,\",\r\n    \"or planning the next trip.\",\r\n    \"\",\r\n    \"âœˆï¸ Aviation. ðŸ›°ï¸ Space. ðŸ’»Web Dev. ðŸ§± LEGO. ðŸš˜Cars. \",\r\n    \"Different worlds â€” same curiosity.\"\r\n  ];\r\n\r\n  constructor(private scrambleService: ScrambleService) {}\r\n\r\n  ngOnInit(): void {\r\n    // Don't start scrambling immediately\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    // Set up Intersection Observer to start scrambling when section is in view\r\n    if (this.aboutSection) {\r\n      this.observer = new IntersectionObserver(\r\n        (entries) => {\r\n          entries.forEach(entry => {\r\n            if (entry.isIntersecting && !this.hasStartedScrambling) {\r\n              this.hasStartedScrambling = true;\r\n              this.startScrambling();\r\n            }\r\n          });\r\n        },\r\n        {\r\n          threshold: 0.3, // Start when 30% of the section is visible\r\n          rootMargin: '0px'\r\n        }\r\n      );\r\n\r\n      this.observer.observe(this.aboutSection.nativeElement);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n    if (this.observer) {\r\n      this.observer.disconnect();\r\n    }\r\n  }\r\n\r\n  private startScrambling(): void {\r\n    // Reveal all text in 1.5 seconds\r\n    this.subscription = this.scrambleService.scrambleLines(\r\n      this.lines,\r\n      20,   // scramble speed (ms between scrambles) - fast\r\n      1500  // total reveal duration (ms) - 1.5 seconds\r\n    ).subscribe(text => {\r\n      this.scrambledContent = text;\r\n    });\r\n  }\r\n}\r\n", "<section class=\"about section\" id=\"about\" #aboutSection>\r\n  <div class=\"container\">\r\n    <div class=\"about-content\">\r\n      <pre class=\"scrambled-content\">{{ scrambledContent }}</pre>\r\n    </div>\r\n  </div>\r\n</section>\r\n"],
  "mappings": "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",
  "names": []
}
